package ccnu.service;

import java.sql.ResultSet;
import java.sql.SQLException;
import java.util.List;

import ccnu.commen.Spider.ConnectDB;
import ccnu.dao.NewsDao;
import ccnu.entity.News;

public class NewsService implements NewsDao{

	@Override
	public News get(String id) {
		// TODO 通过id查找一条数据
		StringBuffer sql = new StringBuffer();
		sql.append("select * from news where id = ");
		sql.append(id);
		//连接数据库
		ResultSet r = ConnectDB.excuteQuery(sql.toString());
		News news = new News(); 
		try {
			news.setDate(r.getString(0));
			news.setLink(r.getString(1));
			news.setTitle(r.getString(2));
		} catch (SQLException e) {
			// TODO Auto-generated catch block
			System.out.println("查找数据错误!");
			e.printStackTrace();
		}
		
		return news;
	}

	@Override
	public News get(News news) {
		// TODO Auto-generated method stub
		
		
		
		
		
		
		
		return null;
	}

	@Override
	public List<News> findList(News news) {
		// TODO Auto-generated method stub
		
		if(news == null) {//如果news为空,则查找全部信息
			StringBuffer sql = new StringBuffer();
			sql.append("select * from news where title = ");
			sql.append(news.getTitle());
			//连接数据库
			ResultSet r = ConnectDB.excuteQuery(sql.toString());
			News news2 = new News(); 
			try {
				news.setDate(r.getString(0));
				news.setLink(r.getString(1));
				news.setTitle(r.getString(2));
			} catch (SQLException e) {
				// TODO Auto-generated catch block
				System.out.println("查找数据错误!");
				e.printStackTrace();
			}
			
			
			
			
		}
		
		
		return null;
	}

	@Override
	public int delete(String id) {
		// TODO Auto-generated method stub
		return 0;
	}

	@Override
	public int delete(News news) {
		// TODO Auto-generated method stub
		return 0;
	}

	@Override
	public int insert(News news) {
		// TODO Auto-generated method stub
		return 0;
	}

	@Override
	public int update(News news) {
		// TODO Auto-generated method stub
		return 0;
	}
	
}
